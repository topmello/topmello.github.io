"use strict";(self.webpackChunksettle_aid=self.webpackChunksettle_aid||[]).push([[8018],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>f});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=c(n),h=r,f=u["".concat(s,".").concat(h)]||u[h]||p[h]||i;return n?a.createElement(f,o(o({ref:t},d),{},{components:n})):a.createElement(f,o({ref:t},d))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},5008:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:4,title:"Fetch Data"},o="Fetch Data",l={unversionedId:"frontend/fetch-data",id:"frontend/fetch-data",title:"Fetch Data",description:"useFetch Hook",source:"@site/docs/frontend/fetch-data.md",sourceDirName:"frontend",slug:"/frontend/fetch-data",permalink:"/docs/frontend/fetch-data",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/frontend/fetch-data.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"Fetch Data"},sidebar:"tutorialSidebar",previous:{title:"Routing",permalink:"/docs/frontend/routing"},next:{title:"Global State",permalink:"/docs/frontend/global-state-redux"}},s={},c=[{value:"<code>useFetch</code> Hook",id:"usefetch-hook",level:2},{value:"Overview",id:"overview",level:3},{value:"Installation",id:"installation",level:3},{value:"Usage",id:"usage",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"Deep Dive",id:"deep-dive",level:3},{value:"Session Validity",id:"session-validity",level:4},{value:"Handling Errors",id:"handling-errors",level:4},{value:"Notifications &amp; Translations",id:"notifications--translations",level:4},{value:"Best Practices",id:"best-practices",level:3}],d={toc:c},u="wrapper";function p(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"fetch-data"},"Fetch Data"),(0,r.kt)("h2",{id:"usefetch-hook"},(0,r.kt)("inlineCode",{parentName:"h2"},"useFetch")," Hook"),(0,r.kt)("p",null,"Just as React provides hooks to embed state and other React features into your components, ",(0,r.kt)("inlineCode",{parentName:"p"},"useFetch")," serves as a custom hook that provides an abstraction over the fetching mechanism, tailored to work efficiently within the React component lifecycle."),(0,r.kt)("h3",{id:"overview"},"Overview"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"useFetch")," hook is designed to interact with your API, handle various kinds of errors, and provide feedback to the user. It seamlessly integrates with your Redux store to maintain application state and utilizes other hooks for notifications, translations, and session management."),(0,r.kt)("h3",{id:"installation"},"Installation"),(0,r.kt)("p",null,"Before you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"useFetch")," hook, ensure you have the necessary dependencies:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install react react-redux axios react-i18next expo-router\n")),(0,r.kt)("h3",{id:"usage"},"Usage"),(0,r.kt)("p",null,"Here's a basic way to use the ",(0,r.kt)("inlineCode",{parentName:"p"},"useFetch")," hook:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"const [data, fetchData] = useFetch(requestOptions);\n")),(0,r.kt)("h4",{id:"parameters"},"Parameters"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"requestOptions (",(0,r.kt)("inlineCode",{parentName:"strong"},"RequestOptions"),"):")," This is the main configuration for your fetch request. It includes all the details needed to make an API call."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"deps (",(0,r.kt)("inlineCode",{parentName:"strong"},"any[]")," = []):")," Dependencies for the effect. The fetch operation will re-run whenever these dependencies change."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"initialData (",(0,r.kt)("inlineCode",{parentName:"strong"},"T"),"):")," You can provide an initial value for the data. Useful in scenarios where you have default or placeholder data."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"shouldFetchImmediately (",(0,r.kt)("inlineCode",{parentName:"strong"},"boolean")," = true):")," A boolean indicating if the fetch should run immediately when the component mounts."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"notificationMsg (",(0,r.kt)("inlineCode",{parentName:"strong"},"string"),"):")," A message to display as a notification when the fetch is successful.")),(0,r.kt)("h4",{id:"returns"},"Returns"),(0,r.kt)("p",null,"The hook returns an array with:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"The fetched data (",(0,r.kt)("inlineCode",{parentName:"li"},"T | null"),")"),(0,r.kt)("li",{parentName:"ol"},"A ",(0,r.kt)("inlineCode",{parentName:"li"},"fetchData")," function to trigger the fetch manually.")),(0,r.kt)("h3",{id:"deep-dive"},"Deep Dive"),(0,r.kt)("h4",{id:"session-validity"},"Session Validity"),(0,r.kt)("p",null,'Before making the fetch, the hook checks the validity of the user session. If the session is invalid, it will dispatch a "Session Invalid" error to your Redux store.'),(0,r.kt)("h4",{id:"handling-errors"},"Handling Errors"),(0,r.kt)("p",null,"The hook comes with an integrated error-handling mechanism. If the fetch encounters an error, the hook identifies its type and dispatches appropriate actions or notifications. Some of the handled errors include:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Network Error"),(0,r.kt)("li",{parentName:"ul"},"Unknown Error"),(0,r.kt)("li",{parentName:"ul"},"Invalid Credentials"),(0,r.kt)("li",{parentName:"ul"},"No Location"),(0,r.kt)("li",{parentName:"ul"},"Already Voted")),(0,r.kt)("p",null,"It's designed to give feedback both to your Redux store and the user via notifications."),(0,r.kt)("h4",{id:"notifications--translations"},"Notifications & Translations"),(0,r.kt)("p",null,"The hook leverages the ",(0,r.kt)("inlineCode",{parentName:"p"},"useNotification")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"useTranslation")," hooks to send user notifications and support internationalization respectively."),(0,r.kt)("h3",{id:"best-practices"},"Best Practices"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Always ensure the ",(0,r.kt)("inlineCode",{parentName:"li"},"requestOptions")," provided are valid and are in the expected format."),(0,r.kt)("li",{parentName:"ul"},"Be cautious about the dependencies (",(0,r.kt)("inlineCode",{parentName:"li"},"deps"),") you provide. Too many or irrelevant dependencies could lead to unnecessary fetches."),(0,r.kt)("li",{parentName:"ul"},"To ensure the user gets feedback, always provide meaningful ",(0,r.kt)("inlineCode",{parentName:"li"},"notificationMsg")," strings.")))}p.isMDXComponent=!0}}]);