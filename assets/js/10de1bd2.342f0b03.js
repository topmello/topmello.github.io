"use strict";(self.webpackChunksettle_aid=self.webpackChunksettle_aid||[]).push([[2598],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=d(n),k=o,h=c["".concat(s,".").concat(k)]||c[k]||p[k]||i;return n?a.createElement(h,r(r({ref:t},u),{},{components:n})):a.createElement(h,r({ref:t},u))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=k;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:o,r[1]=l;for(var d=2;d<i;d++)r[d]=n[d];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},7068:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var a=n(7462),o=(n(7294),n(3905));const i={sidebar_position:3,title:"Hooks"},r="Hooks",l={unversionedId:"frontend/hooks",id:"frontend/hooks",title:"Hooks",description:"useFetch Hook",source:"@site/docs/frontend/hooks.md",sourceDirName:"frontend",slug:"/frontend/hooks",permalink:"/docs/frontend/hooks",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/frontend/hooks.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Hooks"},sidebar:"tutorialSidebar",previous:{title:"Global State Management",permalink:"/docs/frontend/global-state-redux"},next:{title:"Styling",permalink:"/docs/frontend/styling"}},s={},d=[{value:"<code>useFetch</code> Hook",id:"usefetch-hook",level:2},{value:"Overview",id:"overview",level:3},{value:"Installation",id:"installation",level:3},{value:"Usage",id:"usage",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"Deep Dive",id:"deep-dive",level:3},{value:"Session Validity",id:"session-validity",level:4},{value:"Handling Errors",id:"handling-errors",level:4},{value:"Notifications &amp; Translations",id:"notifications--translations",level:4},{value:"Best Practices",id:"best-practices",level:3},{value:"<code>useKeyboardEvent</code> Hook",id:"usekeyboardevent-hook",level:2},{value:"Overview",id:"overview-1",level:3},{value:"Installation",id:"installation-1",level:3},{value:"Usage",id:"usage-1",level:3},{value:"Hook Return Values",id:"hook-return-values",level:3},{value:"Under the Hood",id:"under-the-hood",level:3},{value:"Best Practices",id:"best-practices-1",level:3},{value:"<code>useTrack</code> Hook",id:"usetrack-hook",level:2},{value:"Overview",id:"overview-2",level:3},{value:"Installation",id:"installation-2",level:3},{value:"Usage",id:"usage-2",level:3},{value:"Features",id:"features",level:3},{value:"State Variables:",id:"state-variables",level:4},{value:"Methods:",id:"methods",level:4},{value:"Event Handling:",id:"event-handling",level:4},{value:"Recommendations:",id:"recommendations",level:3}],u={toc:d},c="wrapper";function p(e){let{components:t,...n}=e;return(0,o.kt)(c,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"hooks"},"Hooks"),(0,o.kt)("h2",{id:"usefetch-hook"},(0,o.kt)("inlineCode",{parentName:"h2"},"useFetch")," Hook"),(0,o.kt)("p",null,"Just as React provides hooks to embed state and other React features into your components, ",(0,o.kt)("inlineCode",{parentName:"p"},"useFetch")," serves as a custom hook that provides an abstraction over the fetching mechanism, tailored to work efficiently within the React component lifecycle."),(0,o.kt)("h3",{id:"overview"},"Overview"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"useFetch")," hook is designed to interact with your API, handle various kinds of errors, and provide feedback to the user. It seamlessly integrates with your Redux store to maintain application state and utilizes other hooks for notifications, translations, and session management."),(0,o.kt)("h3",{id:"installation"},"Installation"),(0,o.kt)("p",null,"Before you can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"useFetch")," hook, ensure you have the necessary dependencies:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install react react-redux axios react-i18next expo-router\n")),(0,o.kt)("h3",{id:"usage"},"Usage"),(0,o.kt)("p",null,"Here's a basic way to use the ",(0,o.kt)("inlineCode",{parentName:"p"},"useFetch")," hook:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"const [data, fetchData] = useFetch(requestOptions);\n")),(0,o.kt)("h4",{id:"parameters"},"Parameters"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"requestOptions (",(0,o.kt)("inlineCode",{parentName:"strong"},"RequestOptions"),"):")," This is the main configuration for your fetch request. It includes all the details needed to make an API call."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"deps (",(0,o.kt)("inlineCode",{parentName:"strong"},"any[]")," = []):")," Dependencies for the effect. The fetch operation will re-run whenever these dependencies change."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"initialData (",(0,o.kt)("inlineCode",{parentName:"strong"},"T"),"):")," You can provide an initial value for the data. Useful in scenarios where you have default or placeholder data."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"shouldFetchImmediately (",(0,o.kt)("inlineCode",{parentName:"strong"},"boolean")," = true):")," A boolean indicating if the fetch should run immediately when the component mounts."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"notificationMsg (",(0,o.kt)("inlineCode",{parentName:"strong"},"string"),"):")," A message to display as a notification when the fetch is successful.")),(0,o.kt)("h4",{id:"returns"},"Returns"),(0,o.kt)("p",null,"The hook returns an array with:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"The fetched data (",(0,o.kt)("inlineCode",{parentName:"li"},"T | null"),")"),(0,o.kt)("li",{parentName:"ol"},"A ",(0,o.kt)("inlineCode",{parentName:"li"},"fetchData")," function to trigger the fetch manually.")),(0,o.kt)("h3",{id:"deep-dive"},"Deep Dive"),(0,o.kt)("h4",{id:"session-validity"},"Session Validity"),(0,o.kt)("p",null,'Before making the fetch, the hook checks the validity of the user session. If the session is invalid, it will dispatch a "Session Invalid" error to your Redux store.'),(0,o.kt)("h4",{id:"handling-errors"},"Handling Errors"),(0,o.kt)("p",null,"The hook comes with an integrated error-handling mechanism. If the fetch encounters an error, the hook identifies its type and dispatches appropriate actions or notifications. Some of the handled errors include:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Network Error"),(0,o.kt)("li",{parentName:"ul"},"Unknown Error"),(0,o.kt)("li",{parentName:"ul"},"Invalid Credentials"),(0,o.kt)("li",{parentName:"ul"},"No Location"),(0,o.kt)("li",{parentName:"ul"},"Already Voted")),(0,o.kt)("p",null,"It's designed to give feedback both to your Redux store and the user via notifications."),(0,o.kt)("h4",{id:"notifications--translations"},"Notifications & Translations"),(0,o.kt)("p",null,"The hook leverages the ",(0,o.kt)("inlineCode",{parentName:"p"},"useNotification")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"useTranslation")," hooks to send user notifications and support internationalization respectively."),(0,o.kt)("h3",{id:"best-practices"},"Best Practices"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Always ensure the ",(0,o.kt)("inlineCode",{parentName:"li"},"requestOptions")," provided are valid and are in the expected format."),(0,o.kt)("li",{parentName:"ul"},"Be cautious about the dependencies (",(0,o.kt)("inlineCode",{parentName:"li"},"deps"),") you provide. Too many or irrelevant dependencies could lead to unnecessary fetches."),(0,o.kt)("li",{parentName:"ul"},"To ensure the user gets feedback, always provide meaningful ",(0,o.kt)("inlineCode",{parentName:"li"},"notificationMsg")," strings.")),(0,o.kt)("h2",{id:"usekeyboardevent-hook"},(0,o.kt)("inlineCode",{parentName:"h2"},"useKeyboardEvent")," Hook"),(0,o.kt)("p",null,"React Native offers a rich API set for various device-specific behaviors, one of which is keyboard interactions. Built atop React Native's ",(0,o.kt)("inlineCode",{parentName:"p"},"Keyboard")," API, the ",(0,o.kt)("inlineCode",{parentName:"p"},"useKeyboardEvent")," hook provides a seamless way to track the keyboard's visibility state within the lifecycle of your React components."),(0,o.kt)("h3",{id:"overview-1"},"Overview"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"useKeyboardEvent")," hook provides an abstraction to listen for keyboard show/hide events and maintain the current visibility state of the keyboard. With this, developers can effortlessly implement responsive designs or functionalities that depend on the keyboard's state."),(0,o.kt)("h3",{id:"installation-1"},"Installation"),(0,o.kt)("p",null,"Before diving into the ",(0,o.kt)("inlineCode",{parentName:"p"},"useKeyboardEvent")," hook, ensure that you have ",(0,o.kt)("inlineCode",{parentName:"p"},"react-native")," set up in your project:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install react-native\n")),(0,o.kt)("h3",{id:"usage-1"},"Usage"),(0,o.kt)("p",null,"Here's a simple example of how you can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"useKeyboardEvent")," hook:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useKeyboardEvent } from 'path-to-your-hook';\n\nfunction YourComponent() {\n  const { keyboardShow } = useKeyboardEvent();\n\n  return (\n    // Your component JSX\n  );\n}\n")),(0,o.kt)("h3",{id:"hook-return-values"},"Hook Return Values"),(0,o.kt)("p",null,"When you invoke the ",(0,o.kt)("inlineCode",{parentName:"p"},"useKeyboardEvent")," hook, it returns an object containing:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"keyboardShow (",(0,o.kt)("inlineCode",{parentName:"strong"},"boolean"),"):")," A boolean indicating the current visibility state of the keyboard. It's ",(0,o.kt)("inlineCode",{parentName:"li"},"true")," when the keyboard is visible and ",(0,o.kt)("inlineCode",{parentName:"li"},"false")," otherwise.")),(0,o.kt)("h3",{id:"under-the-hood"},"Under the Hood"),(0,o.kt)("p",null,"Internally, the hook leverages React Native's ",(0,o.kt)("inlineCode",{parentName:"p"},"Keyboard")," API to listen for keyboard visibility events:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"keyboardDidShow")," event updates the state to indicate the keyboard is visible."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"keyboardDidHide")," event updates the state to indicate the keyboard is hidden.")),(0,o.kt)("p",null,"Listeners are cleaned up appropriately to prevent potential memory leaks."),(0,o.kt)("h3",{id:"best-practices-1"},"Best Practices"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Ensure that the ",(0,o.kt)("inlineCode",{parentName:"li"},"useKeyboardEvent")," hook is invoked within the body of a functional React component."),(0,o.kt)("li",{parentName:"ul"},"Utilize the ",(0,o.kt)("inlineCode",{parentName:"li"},"keyboardShow")," state to make UI adjustments, animate components, or change functionalities based on the keyboard's visibility state.")),(0,o.kt)("h2",{id:"usetrack-hook"},(0,o.kt)("inlineCode",{parentName:"h2"},"useTrack")," Hook"),(0,o.kt)("h3",{id:"overview-2"},"Overview"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"useTrack")," hook provides real-time tracking capabilities using Socket.io, enabling users to join rooms, send location updates, and manage real-time events seamlessly."),(0,o.kt)("h3",{id:"installation-2"},"Installation"),(0,o.kt)("p",null,"Ensure you have the required dependencies:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install react socket.io-client\n")),(0,o.kt)("h3",{id:"usage-2"},"Usage"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useTrack } from 'path-to-your-hook';\n\nfunction TrackingComponent() {\n    const { \n        isConnected, \n        messages, \n        roomId, \n        joinRoom, \n        handleLeaveRoom, \n        createRoom, \n        startTrackMe, \n        exitRoom, \n        parentLocation \n    } = useTrack();\n\n    // Component logic here...\n}\n")),(0,o.kt)("h3",{id:"features"},"Features"),(0,o.kt)("h4",{id:"state-variables"},"State Variables:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"isConnected (",(0,o.kt)("inlineCode",{parentName:"strong"},"boolean"),")"),": Reflects the connection status to the server."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"messages (",(0,o.kt)("inlineCode",{parentName:"strong"},"MessageData[]"),")"),": Stores messages or events from the server."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"roomId (",(0,o.kt)("inlineCode",{parentName:"strong"},"string"),")"),": The ID of the currently active room."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"parentLocation (",(0,o.kt)("inlineCode",{parentName:"strong"},"object"),")"),": Contains latitude and longitude of the parent's location.")),(0,o.kt)("h4",{id:"methods"},"Methods:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"joinRoom(room: string)"),": Join a specified tracking room."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"handleLeaveRoom(room: string)"),": Exit a specific room."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"createRoom()"),": Asynchronously create a new tracking room. Returns the room ID upon success."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"startTrackMe(room: string)"),": Start tracking the current user's location and broadcast to a specific room."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"exitRoom()"),": Exit the current tracking room.")),(0,o.kt)("h4",{id:"event-handling"},"Event Handling:"),(0,o.kt)("p",null,"The hook listens to and manages several socket events:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"join_room")),": When a user joins a room."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"leave_room")),": When a user leaves a room."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"move")),": For broadcasting location updates.")),(0,o.kt)("p",null,"Errors related to socket connections are logged to the console."),(0,o.kt)("h3",{id:"recommendations"},"Recommendations:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Always check the ",(0,o.kt)("inlineCode",{parentName:"li"},"isConnected")," state before performing socket operations."),(0,o.kt)("li",{parentName:"ul"},"Ensure a stable internet connection to maintain socket connectivity.")))}p.isMDXComponent=!0}}]);